<mvc:View controllerName="com.lt.educationalreportui.controller.EducationalReport"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:fb="sap.ui.comp.filterbar"
	xmlns:f="sap.f"
	xmlns:core="sap.ui.core"
	xmlns:Table="sap.ui.table">
	<f:DynamicPage>
		<f:title>
			<f:DynamicPageTitle>
				<f:heading >
					<Title text="{i18n>title}" textAlign="Center">
				</Title>
				</f:heading>
			</f:DynamicPageTitle>
		</f:title>
		
		<f:content> 
			<VBox>
				<table:Table
					id="idReportTable"
					rows="{reportModel>/}"
					selectionMode="None"
					enableColumnReordering="true"
					enableCellFilter="true"
					showColumnVisibilityMenu="true"
					xmlns:table="sap.ui.table"
					xmlns:m="sap.m"
					xmlns:core="sap.ui.core">

					<table:extension>
						<OverflowToolbar 
							style="Clear" 
							class="sapUiSmallMarginTop sapUiSmallMarginBottom">
							<m:SearchField 
								placeholder="Filter by IC and IC Text" 
								search="onICFilter" 
								width="15rem" 
								class="sapuisapUiSmallMargin" />
							<ToolbarSpacer/>
							<Button 
								text="Export" 
								icon="sap-icon://excel-attachment" 
								press="onReportExport" 
								class="sapuisapUiSmallMargin" />
							<Link 
								text="Admin Detail Report" 
								endIcon="sap-icon://excel-attachment" 
								press="onDetailExport" 
								emphasized="false" 
								class="sapuisapUiSmallMargin" />
						</OverflowToolbar>
					</table:extension>

					<table:columns>
						<table:Column filterProperty="IC" sortProperty="IC">
							<Label text="IC"/>
							<table:template>
								<ObjectStatus 
									text="{reportModel>IC}" 
									state="{ 
										path: 'reportModel>IC', 
										formatter: '.formatter.getTotalState' }"
									/>
							</table:template>
						</table:Column>

						<table:Column width="18rem" filterProperty="ICText" sortProperty="ICText">
							<Label text="IC Text"/>
							<table:template>
								<ObjectStatus 
									text="{reportModel>ICText}" 
									state="{ 
										path: 'reportModel>IC', 
										formatter: '.formatter.getTotalState' }"
									/>
							</table:template>
						</table:Column>

						<table:Column filterProperty="D" sortProperty="D">
							<Label text="Save As Draft"/>
							<table:template>
								<ObjectStatus 
									text="{reportModel>D}" 
									state="{ 
										path: 'reportModel>IC', 
										formatter: '.formatter.getTotalState' }"
									/>
							</table:template>
						</table:Column>

						<table:Column width="8rem" filterProperty="PA" sortProperty="PA">
							<Label text="Pending Approval"/>
							<table:template>
								<ObjectStatus 
									text="{reportModel>PA}" 
									state="{ 
										path: 'reportModel>IC', 
										formatter: '.formatter.getTotalState' }"
									/>
							</table:template>
						</table:Column>
						
						<table:Column filterProperty="A" sortProperty="A">
							<Label text="Approved"/>
							<table:template>
								<ObjectStatus 
									text="{reportModel>A}" 
									state="{ 
										path: 'reportModel>IC', 
										formatter: '.formatter.getTotalState' }"
									/>
							</table:template>
						</table:Column>
						
						<table:Column filterProperty="SA" sortProperty="SA">
							<Label text="Self Approved"/>
							<table:template>
								<ObjectStatus 
									text="{reportModel>SA}" 
									state="{ 
										path: 'reportModel>IC', 
										formatter: '.formatter.getTotalState' }"
									/>
							</table:template>
						</table:Column>
						
						<table:Column filterProperty="R" sortProperty="R">
							<Label text="Rejected"/>
							<table:template>
								<ObjectStatus 
									text="{reportModel>R}" 
									state="{ 
										path: 'reportModel>IC', 
										formatter: '.formatter.getTotalState' }"
									/>
							</table:template>
						</table:Column>
						
						<table:Column filterProperty="NAY" sortProperty="NAY">
							<Label text="No Action Yet"/>
							<table:template>
								<ObjectStatus 
									text="{reportModel>NAY}" 
									state="{ 
										path: 'reportModel>IC', 
										formatter: '.formatter.getTotalState' }"
									/>
							</table:template>
						</table:Column>
						
						<table:Column filterProperty="Total" sortProperty="Total">
							<Label text="Total"/>
							<table:template>
								<ObjectStatus 
									text="{reportModel>Total}" 
									state="{ 
										path: 'reportModel>IC', 
										formatter: '.formatter.getTotalState' }"
									/>
							</table:template>
						</table:Column>
					</table:columns>
					
				</table:Table>
			</VBox>
		</f:content> 
	</f:DynamicPage>
</mvc:View>